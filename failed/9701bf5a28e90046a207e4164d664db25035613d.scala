class I0 {
def i1() = 5;
}
trait I4 extends I0 {
type i1;
val I4: Int;
}
trait I4 {
type i1 <: i1
type I4 <: I4
type I4 <: I4 { type I4 }
type I4 = I4 { type i1 = I4.I4 }
val I4: I4 { type I4 <: I4 }
type I4 <: I4 & I4
type I4 = I4#i1
}
abstract class I4 extends i1 {
type I4;
def I4: I4 = ???
def i1(I4: I4.i1): Unit =
def i1(i2: I4 => Any): Unit
}
class I4 {
val i2 = new I4
}
class i1 {
trait i2 extends I4 with i1 {
type I4 = i1#I4
var i2
}
class i2 extends I4 with I4 {
override def i2: Int
}
val i3 = new I4 { type I4 <: Int }
type I4 <: i1
}
trait I4 extends I4 {
type I4 = I4
type i2 = i2.I4
val i2 = new i2
val I4 = I4(new I4)
}